<!DOCTYPE html>
<html lang="ko" xmlns:th="http://thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Page</title>
    <link rel="stylesheet" th:href="@{/css/myPage/myPage-style.css}">
</head>
<body>
    <main>
        <th:block th:replace="/common/header"></th:block>
        <!-- 마이페이지 - 내 정보 -->
        <section class="myPage-content">
			<!-- 사이드메뉴 include -->
			<!-- jsp 액션 태그 -->
            <th:block th:replace="/myPage/sideMenu" />
            <!-- 오른쪽 마이페이지 주요 내용 부분 -->
            <section class="myPage-main">
                <h1 class="myPage-title">비밀번호 변경</h1>
                <span class="myPage-subject">현재 비밀번호가 일치하는 경우 새 비밀번호로 변경할 수 있습니다.</span>
                <form th:action="@{changePw}" method="POST" name="myPageFrm" id="changePwFrm">
                    <div class="myPage-row">
                        <label>현재 비밀번호</label>
                        <input type="password" name="currentPw" id="currentPw" maxlength="30" required >              
                    </div>
                    <div class="myPage-row">
                        <label>새 비밀번호</label>
                        <input type="password" name="newPw" id="newPw" maxlength="30" required>              
                    </div>
                    <div class="myPage-row">
                        <label>새 비밀번호 확인</label>
                        <input type="password" name="newPwConfirm" id="newPwConfirm" maxlength="30" required>              
                    </div>
                    <button class="myPage-submit">변경하기</button>
                </form>
            </section>
        </section>
    </main>
    <th:block th:replace="/common/footer" />
    <script>
        document.querySelector("#changePwFrm").addEventListener('submit', e =>{
            const currentPw = document.getElementById('currentPw');
            const newPw = document.querySelector("#newPw");
            const newPwConfirm = document.querySelector("#newPwConfirm");
            if(newPw.value != newPwConfirm.value){
                alert('새 비밀번호가 비밀번호가 일치하지 않습니다.');
                e.preventDefault();
            }
        });
    </script>
</body>
</html>